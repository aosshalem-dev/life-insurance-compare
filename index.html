<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>×”×©×•×•××ª ×‘×™×˜×•×—×™× â€” ××©×¤×—×ª ×©×œ×</title>
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Segoe UI', Arial, sans-serif; background: #f5f7fa; color: #1a1a2e; line-height: 1.6; }

/* Password gate */
#gate { display: flex; align-items: center; justify-content: center; min-height: 100vh; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); }
#gate-box { background: #fff; border-radius: 16px; padding: 40px; text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.3); max-width: 400px; width: 90%; }
#gate-box h2 { color: #1a1a2e; margin-bottom: 8px; font-size: 22px; }
#gate-box p { color: #666; margin-bottom: 24px; font-size: 14px; }
#gate-box input { width: 100%; padding: 14px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 18px; text-align: center; letter-spacing: 8px; outline: none; transition: border 0.2s; }
#gate-box input:focus { border-color: #0f3460; }
#gate-box button { width: 100%; padding: 14px; background: #0f3460; color: #fff; border: none; border-radius: 10px; font-size: 16px; cursor: pointer; margin-top: 16px; transition: background 0.2s; }
#gate-box button:hover { background: #1a1a2e; }
#gate-error { color: #e74c3c; margin-top: 12px; font-size: 14px; display: none; }

/* Main content */
#content { display: none; }
header { background: linear-gradient(135deg, #1a1a2e, #0f3460); color: #fff; padding: 32px 24px; text-align: center; }
header h1 { font-size: 24px; margin-bottom: 4px; }
header p { opacity: 0.8; font-size: 14px; }
.container { max-width: 1200px; margin: 0 auto; padding: 24px 16px; }

/* Section headings */
.section { margin-bottom: 40px; }
.section h2 { font-size: 20px; margin-bottom: 6px; padding-bottom: 8px; border-bottom: 3px solid #0f3460; color: #0f3460; }
.section-sub { font-size: 14px; color: #666; margin-bottom: 16px; }

/* Info grid */
.info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; margin-bottom: 20px; }
.info-card { background: #fff; border-radius: 10px; padding: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
.info-card .label { font-size: 12px; color: #888; margin-bottom: 2px; }
.info-card .value { font-size: 16px; font-weight: 600; color: #1a1a2e; }
.info-card .detail { font-size: 13px; color: #666; margin-top: 4px; }

/* Tables */
.table-wrap { overflow-x: auto; -webkit-overflow-scrolling: touch; margin: 16px 0; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
table { width: 100%; border-collapse: collapse; font-size: 14px; background: #fff; }
th, td { padding: 10px 14px; text-align: right; white-space: nowrap; }
th { background: #0f3460; color: #fff; font-weight: 600; position: sticky; top: 0; }
td { border-bottom: 1px solid #eee; }
tr:hover td { background: #f0f4ff; }
tr.year-highlight td { background: #fff8e1; font-weight: 600; }
.col-phoenix { background: #fef6ee; }
.col-aig1 { background: #eef6fe; }
.col-aig2 { background: #eefef0; }
.col-total { background: #feeef0; }
.col-diff-positive { color: #28a745; font-weight: 600; }
.col-diff-negative { color: #dc3545; font-weight: 600; }

/* Summary row */
tr.summary-row td { background: #1a1a2e !important; color: #fff; font-weight: 700; font-size: 15px; border: none; }

/* (tabs removed) */

/* Coverage note */
.coverage-note { background: #e8f4fd; border: 1px solid #b3d7f0; border-radius: 10px; padding: 14px 18px; margin: 16px 0; font-size: 14px; line-height: 1.7; }
.coverage-note strong { display: block; margin-bottom: 4px; color: #0f3460; }

/* PDF links */
.pdf-list { list-style: none; padding: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 10px; }
.pdf-list li a { display: block; padding: 12px 16px; background: #fff; border-radius: 8px; color: #0f3460; text-decoration: none; font-size: 14px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); transition: all 0.2s; }
.pdf-list li a:hover { background: #eef3fa; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.pdf-list li a::before { content: "ğŸ“„ "; }

/* Section divider */
.divider { text-align: center; margin: 50px 0 30px; position: relative; }
.divider::before { content: ''; position: absolute; top: 50%; left: 0; right: 0; height: 2px; background: #ddd; }
.divider span { background: #f5f7fa; padding: 0 20px; position: relative; font-size: 22px; font-weight: 700; color: #0f3460; }

/* Coverage matrix */
.matrix { font-size: 13px; }
.matrix th { font-size: 12px; padding: 8px 10px; }
.matrix td { padding: 8px 10px; text-align: center; }
.matrix td.name-cell { text-align: right; font-weight: 600; }
.has { color: #28a745; }
.hasnt { color: #ccc; }
.partial { color: #e67e22; }
.warn-row td { background: #fff3cd !important; }

footer { text-align: center; padding: 24px; color: #999; font-size: 12px; border-top: 1px solid #eee; margin-top: 40px; }

@media (max-width: 600px) {
  table { font-size: 13px; }
  th, td { padding: 8px 10px; }
  header h1 { font-size: 18px; }
  .info-grid { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<!-- Password Gate -->
<div id="gate">
  <div id="gate-box">
    <h2>×”×©×•×•××ª ×‘×™×˜×•×—×™×</h2>
    <p>××©×¤×—×ª ×©×œ× â€” ×”×–×Ÿ ×¡×™×¡××” ×œ×¦×¤×™×™×”</p>
    <input type="password" id="pw" placeholder="****" maxlength="10" autofocus>
    <button onclick="checkPw()">×›× ×™×¡×”</button>
    <div id="gate-error">×¡×™×¡××” ×©×’×•×™×”</div>
  </div>
</div>

<!-- Main Content -->
<div id="content">

<header>
  <h1>×”×©×•×•××ª ×‘×™×˜×•×—×™× â€” ××©×¤×—×ª ×©×œ×</h1>
  <p>×—×™×™× + ×‘×¨×™××•×ª | ××—×™×¨×™× ×©× ×ª×™×™× ×œ×¤×™ ×¤×•×œ×™×¡×•×ª ×‘×¤×•×¢×œ | ×¤×‘×¨×•××¨ 2026</p>
</header>

<div class="container">

<div class="divider"><span>×‘×™×˜×•×— ×—×™×™×</span></div>

<!-- ======================== -->
<!-- What's being compared    -->
<!-- ======================== -->
<div class="section">
  <h2>××” ×›×•×œ×œ ×›×œ ××¡×œ×•×œ?</h2>

  <div class="coverage-note">
    <strong>×©×™×˜×” ×™×©× ×” â€” ×”×¤× ×™×§×¡ ×‘×œ×‘×“:</strong>
    ×¨×™×¡×§ ×¨×’×™×œ (2814174088): ×¦×‘×™ â‚ª1.2M + ××™×›×œ â‚ª1M<br>
    + ××©×›× ×ª× (3109874085): â‚ª1.35M ××©×•×ª×£ ×œ×©× ×™×”× (×ª×©×œ×•× ××—×“ ×‘××§×¨×” ×¤×˜×™×¨×”)<br>
    <strong>×¡×”"×› ×›×™×¡×•×™: â‚ª3.55M</strong> | ×¢×“ 2048
  </div>

  <div class="coverage-note" style="background: #eef6fe; border-color: #2980b9;">
    <strong>×©×™×˜×” ×—×“×©×” â€” ×”×¤× ×™×§×¡ ×¨×™×¡×§ + AIG ××©×›× ×ª×:</strong>
    ×¨×™×¡×§ ×¨×’×™×œ (2814174088): ×¦×‘×™ â‚ª1.2M + ××™×›×œ â‚ª1M â€” <em>× ×©××¨ ×›××• ×©×”×•×</em><br>
    + AIG ××©×›× ×ª×: â‚ª1.35M ×™×•×¨×“ + â‚ª1M ×§×‘×•×¢ = <strong>â‚ª2.35M ×œ×›×œ ××‘×•×˜×— ×‘× ×¤×¨×“</strong> (×”× ×—×” 20%)<br>
    <strong>×¡×”"×› ×›×™×¡×•×™: â‚ª4.55M+</strong> | ×¢×“ 2055
  </div>
</div>

<!-- ======================== -->
<!-- Main: Normalized         -->
<!-- ======================== -->
<div class="section">
  <h2>×”×©×•×•××” ×× ×•×¨××œ×ª â€” ×”×©×•×¨×” ×”×ª×—×ª×•× ×”</h2>
  <p class="section-sub">×¢×œ×•×ª ×©× ×ª×™×ª ×× ×•×¨××œ×ª ×œ××•×ª×• ×¡×›×•× ×›×™×¡×•×™ (â‚ª4.55M) â€” ×”×¤× ×™×§×¡ Ã—1.28 ××•×œ ×©×™×˜×” ×—×“×©×”</p>

  <div class="coverage-note">
    <strong>×œ××” ×¦×¨×™×š × ×¨××•×œ?</strong>
    ×”×¤× ×™×§×¡ ××›×¡×” â‚ª3.55M | AIG ××›×¡×” â‚ª4.55M+ â€” ×›×™×¡×•×™ ×©×•× ×”, ××—×™×¨ ×©×•× ×”.<br>
    ×›×“×™ ×œ×”×©×•×•×ª ×”×•×’×Ÿ, ××›×¤×™×œ×™× ××ª ×¢×œ×•×ª ×”×¤× ×™×§×¡ ×‘-Ã—1.28 (4.55Ã·3.55) ×›××™×œ×• ××›×¡×” ××ª ××•×ª×• ×¡×›×•× ×›××• AIG.
  </div>

  <div class="table-wrap" id="normalized-table"></div>
</div>

<!-- ======================== -->
<!-- Full detail table        -->
<!-- ======================== -->
<div class="section">
  <h2>×˜×‘×œ×” ××¤×•×¨×˜×ª â€” ×›×œ ×”× ×ª×•× ×™×</h2>
  <p class="section-sub">×¢×œ×•×ª ×©× ×ª×™×ª ×œ×¤× ×™ ×•××—×¨×™ × ×¨××•×œ, ×›×•×œ×œ ×¤×™×¨×•×˜ ×¨×›×™×‘×™×</p>

  <div class="table-wrap" id="full-table"></div>
</div>

<!-- ============================================ -->
<!-- HEALTH INSURANCE SECTION                     -->
<!-- ============================================ -->
<div class="divider"><span>×‘×™×˜×•×— ×‘×¨×™××•×ª</span></div>

<!-- Who is covered where -->
<div class="section">
  <h2>××™ ××‘×•×˜×—/×ª ××™×¤×”?</h2>
  <p class="section-sub">6 ×‘× ×™ ××©×¤×—×”, 5 ×¤×•×œ×™×¡×•×ª ×™×©× ×•×ª ××•×œ 2 ×¤×•×œ×™×¡×•×ª AIG</p>

  <div class="table-wrap">
    <table class="matrix">
      <thead><tr>
        <th>××‘×•×˜×—/×ª</th>
        <th style="background:#c0792a;">×‘×™×˜×•×— ×™×©×™×¨<br>â‚ª60/×—×•×“×©</th>
        <th style="background:#c0792a;">×”×¤× ×™×§×¡<br>â‚ª547/×—×•×“×©</th>
        <th style="background:#c0792a;">××’×“×œ<br>â‚ª402/×—×•×“×©</th>
        <th style="background:#1a6baa;">AIG ××©×¤×—×”<br>â‚ª811/×—×•×“×©</th>
        <th style="background:#1a6baa;">AIG ×××ª×™<br>â‚ª99/×—×•×“×©</th>
      </tr></thead>
      <tbody>
        <tr><td class="name-cell">×¦×‘×™</td>
          <td class="has">2 ×¤×•×œ×™×¡×•×ª</td><td class="has">7 ×›×™×¡×•×™×™×</td><td class="has">×“×•××’×™× ×œ××—×¨</td>
          <td class="has">9 ×›×™×¡×•×™×™×</td><td class="hasnt">â€”</td></tr>
        <tr><td class="name-cell">××™×›×œ</td>
          <td class="has">2 ×¤×•×œ×™×¡×•×ª</td><td class="hasnt">â€”</td><td class="has">×ª×¨×•×¤×•×ª/×”×©×ª×œ×•×ª/×™×™×¢×•×¥</td>
          <td class="has">10 ×›×™×¡×•×™×™×</td><td class="hasnt">â€”</td></tr>
        <tr><td class="name-cell">× ×¢××™</td>
          <td class="hasnt">â€”</td><td class="has">12 ×›×™×¡×•×™×™×</td><td class="hasnt">â€”</td>
          <td class="has">10 ×›×™×¡×•×™×™×</td><td class="hasnt">â€”</td></tr>
        <tr><td class="name-cell">×™×¢×¨×”</td>
          <td class="hasnt">â€”</td><td class="has">14 ×›×™×¡×•×™×™×</td><td class="hasnt">â€”</td>
          <td class="has">10 ×›×™×¡×•×™×™×</td><td class="hasnt">â€”</td></tr>
        <tr class="warn-row"><td class="name-cell">×××ª×™</td>
          <td class="hasnt">â€”</td><td class="partial">2 ×›×™×¡×•×™×™× ×‘×œ×‘×“</td><td class="hasnt">â€”</td>
          <td class="hasnt">â€”</td><td class="has">10 ×›×™×¡×•×™×™×</td></tr>
        <tr class="warn-row"><td class="name-cell">××™×ª××¨</td>
          <td class="hasnt">â€”</td><td class="partial">2 ×›×™×¡×•×™×™× ×‘×œ×‘×“</td><td class="hasnt">â€”</td>
          <td class="has">10 ×›×™×¡×•×™×™×</td><td class="hasnt">â€”</td></tr>
      </tbody>
    </table>
  </div>

  <div class="coverage-note">
    <strong>×©×“×¨×•×’ ××©××¢×•×ª×™ ×‘-AIG:</strong>
    ×××ª×™ ×•××™×ª××¨ ×¢×‘×¨×• ×-2 ×›×™×¡×•×™×™× ×‘×”×¤× ×™×§×¡ ×œ-10 ×›×™×¡×•×™×™× ××œ××™×.<br>
    ××™×›×œ ×œ× ×”×™×™×ª×” ××‘×•×˜×—×ª ×›×œ×œ ×‘×”×¤× ×™×§×¡ â€” ×¢×›×©×™×• ××§×‘×œ×ª 10 ×›×™×¡×•×™×™× ×‘-AIG (×¢× ×ª×•×¡×¤×ª ×—×™×ª×•×).
  </div>
</div>

<!-- Coverage comparison -->
<div class="section">
  <h2>×”×©×•×•××ª ×›×™×¡×•×™×™×</h2>
  <p class="section-sub">××” ×›×œ×•×œ ×‘×›×œ ×©×™×˜×”?</p>

  <div class="table-wrap">
    <table class="matrix">
      <thead><tr>
        <th>×›×™×¡×•×™</th>
        <th style="background:#c0792a;">×‘×™×˜×•×— ×™×©×™×¨</th>
        <th style="background:#c0792a;">×”×¤× ×™×§×¡</th>
        <th style="background:#c0792a;">××’×“×œ</th>
        <th style="background:#1a6baa;">AIG</th>
      </tr></thead>
      <tbody>
        <tr><td class="name-cell">××©×œ×™× ×©×‘"×Ÿ / × ×™×ª×•×—×™×</td>
          <td class="hasnt">â€”</td><td class="has">× ×¡×¤×— 6783</td><td class="hasnt">â€”</td><td class="has">×›×™×¡×•×™ 1</td></tr>
        <tr><td class="name-cell">××—×œ×•×ª ×§×©×•×ª</td>
          <td class="hasnt">â€”</td><td class="has">× ×¡×¤×— 5282</td><td class="hasnt">â€”</td><td class="has">Extra Care 28+29</td></tr>
        <tr><td class="name-cell">×ª×¨×•×¤×•×ª ××—×•×¥ ×œ×¡×œ</td>
          <td class="hasnt">â€”</td><td class="has">× ×¡×¤×— 6787</td><td class="has">××™×›×œ ×‘×œ×‘×“</td><td class="has">×›×™×¡×•×™ 22</td></tr>
        <tr><td class="name-cell">× ×™×ª×•×—×™× ×‘×—×•"×œ</td>
          <td class="hasnt">â€”</td><td class="has">× ×¡×¤×— 6785</td><td class="hasnt">â€”</td><td class="has">×›×™×¡×•×™ 23</td></tr>
        <tr><td class="name-cell">×”×©×ª×œ×•×ª ×‘×—×•"×œ</td>
          <td class="hasnt">â€”</td><td class="has">× ×¡×¤×— 6788</td><td class="has">××™×›×œ ×‘×œ×‘×“</td><td class="has">×›×™×¡×•×™ 20</td></tr>
        <tr><td class="name-cell">×™×™×¢×•×¥ ×•×‘×“×™×§×•×ª</td>
          <td class="hasnt">â€”</td><td class="has">× ×¡×¤×— 6782</td><td class="has">××™×›×œ ×‘×œ×‘×“</td><td class="has">×›×™×¡×•×™ 25</td></tr>
        <tr><td class="name-cell">×¡×œ ×˜×™×¤×•×œ×™×</td>
          <td class="hasnt">â€”</td><td class="hasnt">â€”</td><td class="hasnt">â€”</td><td class="has">×›×™×¡×•×™ 26</td></tr>
        <tr><td class="name-cell">×˜×›× ×•×œ×•×’×™×•×ª ××ª×§×“××•×ª</td>
          <td class="hasnt">â€”</td><td class="hasnt">â€”</td><td class="hasnt">â€”</td><td class="has">×›×™×¡×•×™ 32</td></tr>
        <tr><td class="name-cell">×‘×™×˜×•×— ×‘×¡×™×¡×™</td>
          <td class="has">×‘×¡×™×¡×™</td><td class="hasnt">â€”</td><td class="hasnt">â€”</td><td class="has">×›×™×¡×•×™ 20</td></tr>
        <tr><td class="name-cell">×¡×™×¢×•×“×™ / ×“×•××’×™× ×œ××—×¨</td>
          <td class="hasnt">â€”</td><td class="hasnt">â€”</td><td class="has">×¦×‘×™ ×‘×œ×‘×“</td><td class="hasnt">â€”</td></tr>
      </tbody>
    </table>
  </div>

  <div class="coverage-note" style="background:#fff3cd; border-color:#ffc107;">
    <strong>××” ×—×¡×¨ ×‘-AIG:</strong>
    ×¡×™×¢×•×“×™ / ×“×•××’×™× ×œ××—×¨ (××’×“×œ 15054352) â€” ××™×Ÿ ××§×‘×™×œ×” ×‘-AIG. ×–×” ×›×™×¡×•×™ × ×¤×¨×“.<br>
    <strong>××” ×—×“×© ×‘-AIG:</strong>
    ×¡×œ ×˜×™×¤×•×œ×™× + ×˜×›× ×•×œ×•×’×™×•×ª ××ª×§×“××•×ª â€” ×œ× ×”×™×• ×§×™×™××™× ×‘×©×•× ×¤×•×œ×™×¡×” ×™×©× ×”.
  </div>
</div>

<!-- Health cost comparison -->
<div class="section">
  <h2>×”×©×•×•××ª ×¢×œ×•×ª ×©× ×ª×™×ª â€” ×‘×¨×™××•×ª</h2>
  <p class="section-sub">×™×©×Ÿ (×‘×™×˜×•×— ×™×©×™×¨ + ×”×¤× ×™×§×¡ + ××’×“×œ = â‚ª12,111/×©× ×”) ××•×œ AIG (××©×¤×—×” + ×××ª×™)</p>

  <div class="coverage-note">
    <strong>×”×¢×¨×” ×—×©×•×‘×”:</strong>
    ×œ×¤×•×œ×™×¡×•×ª ×”×™×©× ×•×ª ××™×Ÿ ×˜×‘×œ×ª ××—×™×¨×™× ×¢×ª×™×“×™×ª â€” ××•×¦×’×•×ª ×œ×¤×™ ×¢×œ×•×ª × ×•×›×—×™×ª (â‚ª12,111/×©× ×”).<br>
    ×¢×œ×•×ª AIG ××ª×•×š ×˜×‘×œ×ª ×”×¤×¨××™×” ×”×¢×ª×™×“×™×ª ×©×‘×¤×•×œ×™×¡×”. <strong>×”× ×—×•×ª × ×¢×•×œ×•×ª ×¢×“ 01/2036</strong> â€” ××—×¨×™ ×–×” ×§×¤×™×¦×” ×©×œ ~48%.
  </div>

  <div class="table-wrap" id="health-main-table"></div>
</div>

<!-- Health full detail -->
<div class="section">
  <h2>×‘×¨×™××•×ª â€” ×˜×‘×œ×” ××¤×•×¨×˜×ª</h2>
  <p class="section-sub">×¤×™×¨×•×˜: ×™×©×Ÿ ×§×‘×•×¢ | AIG ××©×¤×—×” | AIG ×××ª×™ | ×¡×”"×› AIG | ×”×¤×¨×©</p>

  <div class="table-wrap" id="health-full-table"></div>
</div>

<!-- ======================== -->
<!-- PDFs                     -->
<!-- ======================== -->
<div class="divider"><span>××¡××›×™ ××§×•×¨</span></div>

<div class="section">
  <h2>××¡××›×™ ××§×•×¨ â€” ×—×™×™× (PDF)</h2>
  <ul class="pdf-list">
    <li><a href="pdfs/phoenix_risk_2814174088.pdf" target="_blank">×”×¤× ×™×§×¡ â€” ×¨×™×¡×§ 2814174088</a></li>
    <li><a href="pdfs/phoenix_mortgage_3109874085.pdf" target="_blank">×”×¤× ×™×§×¡ â€” ××©×›× ×ª× 3109874085</a></li>
    <li><a href="pdfs/%D7%91%D7%99%D7%98%D7%95%D7%97%20%D7%9E%D7%A9%D7%9B%D7%A0%D7%AA%D7%90-%D7%9E%D7%A4%D7%A8%D7%98%20%D7%A4%D7%95%D7%9C%D7%99%D7%A1%D7%94%2070080260326.pdf" target="_blank">AIG â€” ××©×›× ×ª× 70080260326 (1.35M ×™×•×¨×“)</a></li>
    <li><a href="pdfs/%D7%91%D7%99%D7%98%D7%95%D7%97%20%D7%9E%D7%A9%D7%9B%D7%A0%D7%AA%D7%90-%D7%9E%D7%A4%D7%A8%D7%98%20%D7%A4%D7%95%D7%9C%D7%99%D7%A1%D7%94%2070080262326.pdf" target="_blank">AIG â€” ××©×›× ×ª× 70080262326 (1M ×§×‘×•×¢)</a></li>
  </ul>
</div>

<div class="section">
  <h2>××¡××›×™ ××§×•×¨ â€” ×‘×¨×™××•×ª (PDF)</h2>
  <ul class="pdf-list">
    <li><a href="pdfs/aig_health_730027730526.pdf" target="_blank">AIG â€” ×‘×¨×™××•×ª ××©×¤×—×” 730027730526 (×¦×‘×™, ××™×›×œ, × ×¢××™, ×™×¢×¨×”, ××™×ª××¨)</a></li>
    <li><a href="pdfs/aig_health_730027731426_amtai.pdf" target="_blank">AIG â€” ×‘×¨×™××•×ª ×××ª×™ 730027731426</a></li>
  </ul>
</div>

</div><!-- container -->

<footer>
  × ×ª×•× ×™× ×—×•×œ×¦×• ××¤×•×œ×™×¡×•×ª ×‘×¤×•×¢×œ (PDF) | ×¤×‘×¨×•××¨ 2026
</footer>

</div><!-- content -->

<script>
function checkPw() {
  var pw = document.getElementById('pw').value;
  if (pw === '7654') {
    document.getElementById('gate').style.display = 'none';
    document.getElementById('content').style.display = 'block';
    buildTables();
  } else {
    document.getElementById('gate-error').style.display = 'block';
    document.getElementById('pw').value = '';
    document.getElementById('pw').focus();
  }
}
document.getElementById('pw').addEventListener('keydown', function(e) {
  if (e.key === 'Enter') checkPw();
});

/* ===== DATA ===== */

// Phoenix Risk 2814174088 â€” combined monthly premium (both insureds)
var riskData = [
  {year: 2024, month: '09/2024', monthly: 134.62},
  {year: 2025, month: '02/2025', monthly: 149.77},
  {year: 2026, month: '02/2026', monthly: 206.76},
  {year: 2027, month: '02/2027', monthly: 278.05},
  {year: 2028, month: '02/2028', monthly: 361.69},
  {year: 2029, month: '02/2029', monthly: 463.15},
  {year: 2030, month: '02/2030', monthly: 647.24},
  {year: 2031, month: '02/2031', monthly: 725.21},
  {year: 2032, month: '02/2032', monthly: 812.84},
  {year: 2033, month: '02/2033', monthly: 912.97},
  {year: 2034, month: '02/2034', monthly: 1024.59},
  {year: 2035, month: '02/2035', monthly: 1151.38},
  {year: 2036, month: '02/2036', monthly: 1292.32},
  {year: 2037, month: '02/2037', monthly: 1452.92},
  {year: 2038, month: '02/2038', monthly: 1632.34},
  {year: 2039, month: '02/2039', monthly: 1833.93},
  {year: 2040, month: '02/2040', monthly: 2060.68},
  {year: 2041, month: '02/2041', monthly: 2313.24},
  {year: 2042, month: '02/2042', monthly: 2597.30},
  {year: 2043, month: '02/2043', monthly: 2914.50},
  {year: 2044, month: '02/2044', monthly: 3269.52},
  {year: 2045, month: '02/2045', monthly: 3666.87},
  {year: 2046, month: '02/2046', monthly: 4109.19},
  {year: 2047, month: '02/2047', monthly: 4602.15},
  {year: 2048, month: '02/2048', monthly: 5153.10}
];

// Phoenix Mortgage 3109874085 â€” combined monthly
var phoenixMortgage = {
  2025: 182.17, 2026: 258.51, 2027: 344.76, 2028: 447.39, 2029: 567.00,
  2030: 703.85, 2031: 906.56, 2032: 992.94, 2033: 1084.71, 2034: 1184.06,
  2035: 1288.19, 2036: 1343.76, 2037: 1455.73, 2038: 1572.39, 2039: 1687.44,
  2040: 1789.86, 2041: 1891.34, 2042: 1990.01, 2043: 2097.77, 2044: 2196.36,
  2045: 2281.23, 2046: 2352.03, 2047: 2396.93, 2048: 2325.22
};

// AIG 70080260326 â€” 1.35M decreasing, monthly BEFORE 20% discount
var aig1Before = {
  2026: 276.93, 2027: 297.02, 2028: 299.53, 2029: 317.47, 2030: 343.83,
  2031: 374.85, 2032: 405.99, 2033: 442.38, 2034: 483.29, 2035: 533.79,
  2036: 585.34, 2037: 624.56, 2038: 621.98, 2039: 635.35, 2040: 650.85,
  2041: 683.68, 2042: 717.17, 2043: 751.75, 2044: 785.80, 2045: 822.20,
  2046: 837.37, 2047: 837.27, 2048: 785.01, 2049: 761.34, 2050: 722.55,
  2051: 662.08, 2052: 575.22, 2053: 456.59, 2054: 300.22, 2055: 98.98
};

// AIG 70080262326 â€” 1M fixed, monthly BEFORE 20% discount
var aig2Before = {
  2026: 205.13, 2027: 225.27, 2028: 232.87, 2029: 253.33, 2030: 282.00,
  2031: 316.47, 2032: 353.40, 2033: 397.73, 2034: 449.67, 2035: 515.07,
  2036: 587.13, 2037: 652.93, 2038: 679.67, 2039: 728.07, 2040: 785.00,
  2041: 871.53, 2042: 970.87, 2043: 1086.73, 2044: 1220.87, 2045: 1383.47,
  2046: 1540.07, 2047: 1702.27, 2048: 1789.47, 2049: 1981.80, 2050: 2201.07,
  2051: 2443.47, 2052: 2710.73, 2053: 3004.73, 2054: 3328.87
};

// AIG insurance sums by year (70080260326 â€” decreasing)
var aig1Sum = {
  2026: 1350000, 2027: 1318528, 2028: 1286260, 2029: 1253176, 2030: 1219255,
  2031: 1184477, 2032: 1148819, 2033: 1112260, 2034: 1074776, 2035: 1036344,
  2036: 996940, 2037: 956539, 2038: 915117, 2039: 872648, 2040: 829104,
  2041: 784460, 2042: 738686, 2043: 691755, 2044: 643637, 2045: 594302,
  2046: 543720, 2047: 491858, 2048: 438685, 2049: 384168, 2050: 328271,
  2051: 270961, 2052: 212202, 2053: 151957, 2054: 90188, 2055: 26858
};

var DISCOUNT = 0.8; // 20% life discount

/* ===== HEALTH DATA ===== */

// Old health: constant annual cost (no year-by-year data available)
var OLD_HEALTH_ANNUAL = 12111; // ×‘×™×˜×•×— ×™×©×™×¨ 723 + ×”×¤× ×™×§×¡ 6564 + ××’×“×œ 4824

// AIG family 730027730526 â€” annual premiums (includes built-in 25-30% discounts, locked until 01/2036)
var aigFamilyHealth = {
  2026: 9618, 2027: 9556, 2028: 10044, 2029: 10965, 2030: 12001,
  2031: 12237, 2032: 12561, 2033: 12776, 2034: 14518, 2035: 15595,
  2036: 23111, 2037: 24032, 2038: 25509, 2039: 26911, 2040: 28939,
  2041: 29606, 2042: 30127, 2043: 30628, 2044: 33209, 2045: 35189,
  2046: 36172, 2047: 36862, 2048: 38021, 2049: 38927, 2050: 40682,
  2051: 41943, 2052: 43210, 2053: 36659, 2054: 27917, 2055: 28108,
  2056: 28920, 2057: 29177, 2058: 30101
};

// AIG Amtai 730027731426 â€” annual premiums (AFTER built-in discounts)
var aigAmtaiHealth = {
  2026: 1186, 2027: 1208, 2028: 1635, 2029: 1635, 2030: 1644,
  2031: 1646, 2032: 1648, 2033: 1654, 2034: 1659, 2035: 1663,
  2036: 2537, 2037: 2554, 2038: 3191, 2039: 3212, 2040: 3242,
  2041: 3276, 2042: 3319, 2043: 3380, 2044: 3453, 2045: 3527,
  2046: 3617, 2047: 3703, 2048: 4699, 2049: 4859, 2050: 5040,
  2051: 5241, 2052: 5443, 2053: 5575, 2054: 5689, 2055: 5790,
  2056: 5877, 2057: 5888, 2058: 6923
};

function fmt(n) { return n.toLocaleString('he-IL', {minimumFractionDigits: 0, maximumFractionDigits: 0}); }

// Build risk lookup: year â†’ monthly
var riskByYear = {};
for (var i = 0; i < riskData.length; i++) riskByYear[riskData[i].year] = riskData[i].monthly;

var NORMALIZE = 4.55 / 3.55; // ~1.2817

function getYears() {
  var years = [], seen = {};
  var sources = [riskByYear, phoenixMortgage, aig1Before, aig2Before];
  for (var s = 0; s < sources.length; s++) {
    var keys = Object.keys(sources[s]);
    for (var i = 0; i < keys.length; i++) {
      var y = parseInt(keys[i]);
      if (!seen[y]) { years.push(y); seen[y] = true; }
    }
  }
  return years.sort(function(a,b){ return a-b; });
}

function calcYear(y) {
  var risk = (riskByYear[y] || 0) * 12;
  var phMort = (phoenixMortgage[y] || 0) * 12;
  var a1 = (aig1Before[y] || 0) * DISCOUNT * 12;
  var a2 = (aig2Before[y] || 0) * DISCOUNT * 12;
  var oldRaw = risk + phMort;
  var oldNorm = oldRaw * NORMALIZE;
  var newTotal = (y < 2026) ? oldRaw : risk + a1 + a2;
  return { risk: risk, phMort: phMort, a1: a1, a2: a2, aigTotal: a1+a2,
           oldRaw: oldRaw, oldNorm: oldNorm, newTotal: newTotal };
}

function diffCell(a, b) {
  var diff = a - b;
  if (diff > 0) return { str: '+â‚ª' + fmt(diff), cls: 'col-diff-negative' };
  if (diff < 0) return { str: 'âˆ’â‚ª' + fmt(Math.abs(diff)), cls: 'col-diff-positive' };
  return { str: 'â‚ª0', cls: '' };
}

function buildTables() {
  buildNormalizedTable();
  buildFullTable();
  buildHealthMainTable();
  buildHealthFullTable();
}

/* ===== Main table: normalized ===== */
function buildNormalizedTable() {
  var years = getYears();
  var html = '<table>';
  html += '<thead><tr>';
  html += '<th>×©× ×”</th>';
  html += '<th style="background:#c0792a;">×”×¤× ×™×§×¡ Ã—1.28</th>';
  html += '<th style="background:#1a6baa;">×¨×™×¡×§ + AIG</th>';
  html += '<th style="background:#444;">×”×¤×¨×©</th>';
  html += '</tr></thead><tbody>';

  var cumON = 0, cumNew = 0;
  for (var i = 0; i < years.length; i++) {
    var y = years[i], d = calcYear(y);
    cumON += d.oldNorm; cumNew += d.newTotal;
    var cls = (y === 2026) ? ' class="year-highlight"' : '';
    html += '<tr' + cls + '>';
    html += '<td><strong>' + y + '</strong></td>';
    html += '<td class="col-phoenix">' + (d.oldNorm ? 'â‚ª'+fmt(d.oldNorm) : 'â€”') + '</td>';
    html += '<td class="col-aig1">' + (d.newTotal ? 'â‚ª'+fmt(d.newTotal) : 'â€”') + '</td>';
    if (d.oldNorm && d.newTotal && y >= 2026) {
      var dc = diffCell(d.newTotal, d.oldNorm);
      html += '<td class="' + dc.cls + '">' + dc.str + '</td>';
    } else { html += '<td>â€”</td>'; }
    html += '</tr>';
  }
  html += '<tr class="summary-row"><td>×¡×”"×›</td><td>â‚ª'+fmt(cumON)+'</td><td>â‚ª'+fmt(cumNew)+'</td>';
  var td = diffCell(cumNew, cumON);
  html += '<td>'+td.str+'</td></tr>';
  html += '</tbody></table>';
  document.getElementById('normalized-table').innerHTML = html;
}

/* ===== Full detail table ===== */
function buildFullTable() {
  var years = getYears();
  var html = '<table>';
  html += '<thead>';
  // Two-row header
  html += '<tr>';
  html += '<th rowspan="2">×©× ×”</th>';
  html += '<th colspan="3" style="background:#c0792a;text-align:center;">×©×™×˜×” ×™×©× ×” â€” ×”×¤× ×™×§×¡</th>';
  html += '<th colspan="3" style="background:#1a6baa;text-align:center;">×©×™×˜×” ×—×“×©×” â€” ×¨×™×¡×§ + AIG</th>';
  html += '<th colspan="2" style="background:#444;text-align:center;">×”×¤×¨×©</th>';
  html += '</tr><tr>';
  html += '<th style="background:#d4943a;">×¨×™×¡×§</th>';
  html += '<th style="background:#d4943a;">××©×›× ×ª×</th>';
  html += '<th style="background:#c0792a;">×¡×”"×›</th>';
  html += '<th style="background:#2a7fc0;">×¨×™×¡×§</th>';
  html += '<th style="background:#2a7fc0;">AIG ××©×›× ×ª×</th>';
  html += '<th style="background:#1a6baa;">×¡×”"×›</th>';
  html += '<th style="background:#555;">×œ×¤× ×™ × ×¨××•×œ</th>';
  html += '<th style="background:#333;">××—×¨×™ × ×¨××•×œ<br>(Ã—1.28)</th>';
  html += '</tr>';
  html += '</thead><tbody>';

  var cumOld = 0, cumOldN = 0, cumNew = 0;
  for (var i = 0; i < years.length; i++) {
    var y = years[i], d = calcYear(y);
    cumOld += d.oldRaw; cumOldN += d.oldNorm; cumNew += d.newTotal;

    var cls = (y === 2026) ? ' class="year-highlight"' : '';
    html += '<tr' + cls + '>';
    html += '<td><strong>' + y + '</strong></td>';
    // Old: risk, mortgage, total
    html += '<td class="col-phoenix">' + (d.risk ? 'â‚ª'+fmt(d.risk) : 'â€”') + '</td>';
    html += '<td class="col-phoenix">' + (d.phMort ? 'â‚ª'+fmt(d.phMort) : 'â€”') + '</td>';
    html += '<td class="col-phoenix" style="font-weight:600;">' + (d.oldRaw ? 'â‚ª'+fmt(d.oldRaw) : 'â€”') + '</td>';
    // New: risk, AIG, total
    var newRisk = (y < 2026) ? d.risk : d.risk;
    var newAig = (y < 2026) ? d.phMort : d.aigTotal;
    html += '<td class="col-aig1">' + (newRisk ? 'â‚ª'+fmt(newRisk) : 'â€”') + '</td>';
    html += '<td class="col-aig1">' + (newAig ? 'â‚ª'+fmt(newAig) : 'â€”') + '</td>';
    html += '<td class="col-aig1" style="font-weight:600;">' + (d.newTotal ? 'â‚ª'+fmt(d.newTotal) : 'â€”') + '</td>';
    // Diffs
    if (d.oldRaw && d.newTotal && y >= 2026) {
      var rawD = diffCell(d.newTotal, d.oldRaw);
      var normD = diffCell(d.newTotal, d.oldNorm);
      html += '<td class="' + rawD.cls + '">' + rawD.str + '</td>';
      html += '<td class="' + normD.cls + '">' + normD.str + '</td>';
    } else {
      html += '<td>â€”</td><td>â€”</td>';
    }
    html += '</tr>';
  }

  // Summary
  html += '<tr class="summary-row">';
  html += '<td>×¡×”"×›</td>';
  html += '<td></td><td></td><td>â‚ª'+fmt(cumOld)+'</td>';
  html += '<td></td><td></td><td>â‚ª'+fmt(cumNew)+'</td>';
  var rawT = diffCell(cumNew, cumOld);
  var normT = diffCell(cumNew, cumOldN);
  html += '<td>'+rawT.str+'</td>';
  html += '<td>'+normT.str+'</td>';
  html += '</tr>';

  html += '</tbody></table>';
  document.getElementById('full-table').innerHTML = html;
}

/* ===== Health tables ===== */

function getHealthYears() {
  var years = [], seen = {};
  var keys = Object.keys(aigFamilyHealth).concat(Object.keys(aigAmtaiHealth));
  for (var i = 0; i < keys.length; i++) {
    var y = parseInt(keys[i]);
    if (!seen[y]) { years.push(y); seen[y] = true; }
  }
  return years.sort(function(a,b){ return a-b; });
}

function buildHealthMainTable() {
  var years = getHealthYears();
  var html = '<table>';
  html += '<thead><tr>';
  html += '<th>×©× ×”</th>';
  html += '<th style="background:#c0792a;">×™×©×Ÿ (5 ×¤×•×œ×™×¡×•×ª)</th>';
  html += '<th style="background:#1a6baa;">AIG (2 ×¤×•×œ×™×¡×•×ª)</th>';
  html += '<th style="background:#444;">×”×¤×¨×©</th>';
  html += '</tr></thead><tbody>';

  var cumOld = 0, cumAig = 0;
  for (var i = 0; i < years.length; i++) {
    var y = years[i];
    var oldH = OLD_HEALTH_ANNUAL;
    var aigF = aigFamilyHealth[y] || 0;
    var aigA = aigAmtaiHealth[y] || 0;
    var aigH = aigF + aigA;
    cumOld += oldH; cumAig += aigH;

    var cls = (y === 2026) ? ' class="year-highlight"' : (y === 2036) ? ' class="warn-row"' : '';
    html += '<tr' + cls + '>';
    html += '<td><strong>' + y + '</strong></td>';
    html += '<td class="col-phoenix">â‚ª' + fmt(oldH) + '</td>';
    html += '<td class="col-aig1">â‚ª' + fmt(aigH) + '</td>';
    var dc = diffCell(aigH, oldH);
    html += '<td class="' + dc.cls + '">' + dc.str + '</td>';
    html += '</tr>';
  }

  html += '<tr class="summary-row"><td>×¡×”"×› (' + years.length + ' ×©× ×™×)</td>';
  html += '<td>â‚ª' + fmt(cumOld) + '</td><td>â‚ª' + fmt(cumAig) + '</td>';
  var td = diffCell(cumAig, cumOld);
  html += '<td>' + td.str + '</td></tr>';
  html += '</tbody></table>';
  document.getElementById('health-main-table').innerHTML = html;
}

function buildHealthFullTable() {
  var years = getHealthYears();
  var html = '<table>';
  html += '<thead>';
  html += '<tr>';
  html += '<th rowspan="2">×©× ×”</th>';
  html += '<th colspan="4" style="background:#c0792a;text-align:center;">×©×™×˜×” ×™×©× ×”</th>';
  html += '<th colspan="3" style="background:#1a6baa;text-align:center;">AIG ×—×“×©</th>';
  html += '<th rowspan="2" style="background:#444;">×”×¤×¨×©</th>';
  html += '</tr><tr>';
  html += '<th style="background:#d4943a;">×‘×™×˜×•×— ×™×©×™×¨</th>';
  html += '<th style="background:#d4943a;">×”×¤× ×™×§×¡</th>';
  html += '<th style="background:#d4943a;">××’×“×œ</th>';
  html += '<th style="background:#c0792a;">×¡×”"×› ×™×©×Ÿ</th>';
  html += '<th style="background:#2a7fc0;">××©×¤×—×”</th>';
  html += '<th style="background:#2a7fc0;">×××ª×™</th>';
  html += '<th style="background:#1a6baa;">×¡×”"×› AIG</th>';
  html += '</tr></thead><tbody>';

  var yashirA = 723, phoenixA = 6564, migdalA = 4824;
  var cumOld = 0, cumAig = 0;

  for (var i = 0; i < years.length; i++) {
    var y = years[i];
    var oldH = OLD_HEALTH_ANNUAL;
    var aigF = aigFamilyHealth[y] || 0;
    var aigA = aigAmtaiHealth[y] || 0;
    var aigH = aigF + aigA;
    cumOld += oldH; cumAig += aigH;

    var cls = (y === 2026) ? ' class="year-highlight"' : (y === 2036) ? ' class="warn-row"' : '';
    html += '<tr' + cls + '>';
    html += '<td><strong>' + y + '</strong></td>';
    html += '<td class="col-phoenix">â‚ª' + fmt(yashirA) + '</td>';
    html += '<td class="col-phoenix">â‚ª' + fmt(phoenixA) + '</td>';
    html += '<td class="col-phoenix">â‚ª' + fmt(migdalA) + '</td>';
    html += '<td class="col-phoenix" style="font-weight:600;">â‚ª' + fmt(oldH) + '</td>';
    html += '<td class="col-aig1">â‚ª' + fmt(aigF) + '</td>';
    html += '<td class="col-aig1">â‚ª' + fmt(aigA) + '</td>';
    html += '<td class="col-aig1" style="font-weight:600;">â‚ª' + fmt(aigH) + '</td>';
    var dc = diffCell(aigH, oldH);
    html += '<td class="' + dc.cls + '">' + dc.str + '</td>';
    html += '</tr>';
  }

  html += '<tr class="summary-row"><td>×¡×”"×›</td>';
  html += '<td></td><td></td><td></td><td>â‚ª' + fmt(cumOld) + '</td>';
  html += '<td></td><td></td><td>â‚ª' + fmt(cumAig) + '</td>';
  var td = diffCell(cumAig, cumOld);
  html += '<td>' + td.str + '</td></tr>';
  html += '</tbody></table>';
  document.getElementById('health-full-table').innerHTML = html;
}
</script>

</body>
</html>
